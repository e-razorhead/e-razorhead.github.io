<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% if page.title %}{{ page.title | escape }}{% else %}{{ site.title | escape }}{% endif %}</title>
  <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/main.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Space+Mono:wght@400;700&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
  {% feed_meta %}
  {% seo %}
</head>
<body>
  <!-- Mobile Header -->
  <header class="mobile-header">
    <div class="mobile-header-content">
      <div class="mobile-profile-icon">
        <a href="{{ site.baseurl }}/" class="profile-link">
          <img src="{{ site.baseurl }}/assets/img/profile.png" alt="Profile" class="pixel-avatar profile-image">
        </a>
      </div>
      <h1 class="mobile-site-title">{{ site.title | default: "MY BLOG" }}</h1>
      <button class="mobile-menu-toggle" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <!-- Mobile Navigation Menu -->
    <nav class="mobile-nav" id="mobileNav">
      <div class="mobile-nav-section">
        <h2 class="mobile-nav-title"># TOPICS</h2>
        <ul class="mobile-hashtag-menu">
          {% for category in site.categories %}
            <li><a href="/#{{ category[0] | slugify }}" class="mobile-hashtag-link">#{{ category[0] }}</a></li>
          {% endfor %}
          {% if site.categories.size == 0 %}
            <li><a href="/" class="mobile-hashtag-link">#home</a></li>
            <li><a href="/about" class="mobile-hashtag-link">#about</a></li>
            <li><a href="/posts" class="mobile-hashtag-link">#posts</a></li>
          {% endif %}
        </ul>
      </div>
      <div class="mobile-nav-section">
        <h2 class="mobile-nav-title"># LINKS</h2>
        <ul class="mobile-hashtag-menu">
          <li><a href="/" class="mobile-hashtag-link">#home</a></li>
          <li><a href="/about" class="mobile-hashtag-link">#about</a></li>
          {% if site.github_username %}
          <li><a href="https://github.com/{{ site.github_username }}" class="mobile-hashtag-link" target="_blank">#github</a></li>
          {% endif %}
        </ul>
      </div>
    </nav>
  </header>

  <div class="container">
    <!-- Left Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="retro-avatar">
          <a href="{{ site.baseurl }}/" class="profile-link">
            <img src="{{ site.baseurl }}/assets/img/profile.png" alt="Profile" class="pixel-avatar profile-image">
          </a>
        </div>
        <h1 class="site-title">{{ site.title | default: "MY BLOG" }}</h1>
      </div>
      
      <nav class="sidebar-nav">
        <div class="nav-section">
          <h2 class="nav-title"># TOPICS</h2>
          <ul class="hashtag-menu">
            {% for category in site.categories %}
              <li><a href="/#{{ category[0] | slugify }}" class="hashtag-link">#{{ category[0] }}</a></li>
            {% endfor %}
            {% if site.categories.size == 0 %}
              <li><a href="/" class="hashtag-link">#home</a></li>
              <li><a href="/about" class="hashtag-link">#about</a></li>
              <li><a href="/posts" class="hashtag-link">#posts</a></li>
            {% endif %}
          </ul>
        </div>
        
        <div class="nav-section">
          <h2 class="nav-title"># LINKS</h2>
          <ul class="hashtag-menu">
            <li><a href="/" class="hashtag-link">#home</a></li>
            <li><a href="/about" class="hashtag-link">#about</a></li>
            {% if site.github_username %}
            <li><a href="https://github.com/{{ site.github_username }}" class="hashtag-link" target="_blank">#github</a></li>
            {% endif %}
          </ul>
        </div>
      </nav>
      
      <div class="sidebar-footer">
        <div class="retro-counter">
          <span class="counter-label">VISITORS:</span>
          <span class="counter-value">0001</span>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <div class="terminal-window">
        <div class="terminal-header">
          <span class="terminal-dot red"></span>
          <span class="terminal-dot yellow"></span>
          <span class="terminal-dot green"></span>
          <span class="terminal-title">{{ page.title | default: "TERMINAL" }}</span>
        </div>
        <div class="terminal-body">
          {{ content }}
        </div>
      </div>
    </main>
  </div>
  
  <!-- Floating Pixelated Rose -->
  <div class="floating-rose">
    <div class="rose-emoji">üåπ</div>
  </div>

  <!-- Floating leaves -->
  <div class="floating-leaf floating-leaf-1">
    <div class="leaf-emoji">üçÉ</div>
  </div>
  <div class="floating-leaf floating-leaf-2">
    <div class="leaf-emoji">üçÉ</div>
  </div>
  <div class="floating-leaf floating-leaf-4">
    <div class="leaf-emoji">üçÉ</div>
  </div>
  <div class="floating-leaf floating-leaf-5">
    <div class="leaf-emoji">üçÉ</div>
  </div>
  <div class="floating-leaf floating-leaf-6">
    <div class="leaf-emoji">üçÉ</div>
  </div>

  <script>
    // Simple visitor counter (localStorage)
    if (typeof(Storage) !== "undefined") {
      var visits = localStorage.getItem('visits') || 0;
      visits = parseInt(visits) + 1;
      localStorage.setItem('visits', visits);
      var counter = document.querySelector('.counter-value');
      if (counter) {
        counter.textContent = String(visits).padStart(4, '0');
      }
    }

    // Mobile menu toggle
    document.addEventListener('DOMContentLoaded', function() {
      var menuToggle = document.querySelector('.mobile-menu-toggle');
      var mobileNav = document.getElementById('mobileNav');
      
      if (menuToggle && mobileNav) {
        menuToggle.addEventListener('click', function() {
          mobileNav.classList.toggle('active');
          menuToggle.classList.toggle('active');
        });

        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
          if (!event.target.closest('.mobile-header')) {
            mobileNav.classList.remove('active');
            menuToggle.classList.remove('active');
          }
        });
      }
    });
  </script>
</body>
</html>

